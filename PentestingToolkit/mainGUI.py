import sys
from PyQt5.QtWidgets import QApplication, QWidget, QVBoxLayout, QComboBox, QPushButton, QLabel, QLineEdit, QTextEdit
from PyQt5.QtCore import Qt, pyqtSignal
import subprocess
import threading

class ScriptRunnerApp(QWidget):
    def __init__(self):
        super().__init__()
        self.setWindowTitle("Pentesting Script Runner")
        self.scripts = ["bruteforce.py", "recon.py", "network_scan.py", "hashcracker.py"]
        self.text_area = QTextEdit()
        self.setup_ui()

    def setup_ui(self):
        layout = QVBoxLayout(self)
        
      
        self.script_combobox = QComboBox()
        self.script_combobox.addItems(self.scripts)
        layout.addWidget(self.script_combobox)

       
        self.input_label = QLabel("Enter IP address or hash key:")
        layout.addWidget(self.input_label)
        self.input_text = QLineEdit()
        layout.addWidget(self.input_text)

       
        run_button = QPushButton("Run Script")
        run_button.clicked.connect(self.run_selected_script)
        layout.addWidget(run_button)

      
        layout.addWidget(self.text_area)

    def run_selected_script(self):
        script = self.script_combobox.currentText()
        input_value = self.input_text.text().strip()
        if not input_value:
            self.text_area.append("Error: Please enter an IP address or a hash key.")
            return
        threading.Thread(target=self.run_script, args=(script, input_value), daemon=True).start()

    def run_script(self, script, input_value):
        process = subprocess.Popen(["python", script, input_value], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)
        for line in process.stdout:
            self.text_area.append(f"{script}: {line.strip()}")
        process.wait()
        stderr = process.stderr.read()
        if stderr:
            self.text_area.append(f"{script} Error: {stderr}")

if __name__ == "__main__":
    app = QApplication(sys.argv)
    window = ScriptRunnerApp()
    window.show()
    sys.exit(app.exec_())
